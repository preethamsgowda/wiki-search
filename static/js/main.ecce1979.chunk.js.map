{"version":3,"sources":["Components/Wikipedia.js","Components/App.js","index.js"],"names":["Wikipedia","useState","term","setTerm","usableTerm","setUsableTerm","fetching","setFetching","results","setResults","useEffect","timeoutId","setTimeout","clearTimeout","a","axios","get","params","origin","action","list","srsearch","format","data","console","log","query","search","resultDivs","map","result","index","Card","fluid","href","pageid","Content","header","title","extra","dangerouslySetInnerHTML","__html","snippet","Container","Divider","Input","loading","placeholder","value","onChange","e","target","App","ReactDOM","render","document","getElementById"],"mappings":"4PAyEeA,EArEG,WAAO,IAAD,EACEC,mBAAS,IADX,mBACfC,EADe,KACTC,EADS,OAEcF,mBAAS,IAFvB,mBAEfG,EAFe,KAEHC,EAFG,OAGUJ,oBAAS,GAHnB,mBAGfK,EAHe,KAGLC,EAHK,OAIQN,mBAAS,IAJjB,mBAIfO,EAJe,KAINC,EAJM,KAMtBC,qBAAU,WACR,IAAMC,EAAYC,YAAW,WAC3BP,EAAcH,KACb,KAEH,OAAO,WACLW,aAAaF,MAEd,CAACT,IAEJQ,qBAAU,WACJN,IACFG,GAAY,GACZ,sBAAC,8BAAAO,EAAA,sEACwBC,IAAMC,IAAI,qCAAsC,CACrEC,OAAQ,CACNC,OAAQ,IACRC,OAAQ,QACRC,KAAM,SACNC,SAAUjB,EACVkB,OAAQ,UAPb,gBACSC,EADT,EACSA,KASRC,QAAQC,IAAI,SAAUF,GACtBd,EAAWc,EAAKG,MAAMC,QACtBpB,GAAY,GAZb,0CAAD,MAeD,CAACH,IAEJ,IAAMwB,EAAapB,EAAQqB,KAAI,SAACC,EAAQC,GACtC,OACE,eAACC,EAAA,EAAD,CACEC,OAAK,EAELC,KAAI,yCAAoCJ,EAAOK,QAHjD,UAKE,cAACH,EAAA,EAAKI,QAAN,CAAcC,OAAQP,EAAOQ,QAC7B,cAACN,EAAA,EAAKI,QAAN,CAAcG,OAAK,EAAnB,SACE,qBAAKC,wBAAyB,CAAEC,OAAQX,EAAOY,eAL5CZ,EAAOK,WAWlB,OACE,eAACQ,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CACEZ,OAAK,EACLa,QAASxC,EACTyC,YAAY,qBACZC,MAAO9C,EACP+C,SAAU,SAAAC,GACR/C,EAAQ+C,EAAEC,OAAOH,UAGrB,cAACJ,EAAA,EAAD,IACA,8BAAMhB,QC7DGwB,EAJH,WACV,OAAO,cAAC,EAAD,KCCTC,IAASC,OAAO,cAAC,EAAD,IAAaC,SAASC,eAAe,W","file":"static/js/main.ecce1979.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Input, Container, Card, Divider } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\n\r\nconst Wikipedia = () => {\r\n  const [term, setTerm] = useState(\"\");\r\n  const [usableTerm, setUsableTerm] = useState(\"\");\r\n  const [fetching, setFetching] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      setUsableTerm(term);\r\n    }, 500);\r\n\r\n    return () => {\r\n      clearTimeout(timeoutId);\r\n    };\r\n  }, [term]);\r\n\r\n  useEffect(() => {\r\n    if (usableTerm) {\r\n      setFetching(true);\r\n      (async () => {\r\n        const { data } = await axios.get(\"https://en.wikipedia.org/w/api.php\", {\r\n          params: {\r\n            origin: \"*\",\r\n            action: \"query\",\r\n            list: \"search\",\r\n            srsearch: usableTerm,\r\n            format: \"json\",\r\n          },\r\n        });\r\n        console.log(\"data: \", data);\r\n        setResults(data.query.search);\r\n        setFetching(false);\r\n      })();\r\n    }\r\n  }, [usableTerm]);\r\n\r\n  const resultDivs = results.map((result, index) => {\r\n    return (\r\n      <Card\r\n        fluid\r\n        key={result.pageid}\r\n        href={`http://en.wikipedia.org/?curid=${result.pageid}`}\r\n      >\r\n        <Card.Content header={result.title} />\r\n        <Card.Content extra>\r\n          <div dangerouslySetInnerHTML={{ __html: result.snippet }}></div>\r\n        </Card.Content>\r\n      </Card>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Container>\r\n      <Divider />\r\n      <Input\r\n        fluid\r\n        loading={fetching}\r\n        placeholder=\"Enter search term.\"\r\n        value={term}\r\n        onChange={e => {\r\n          setTerm(e.target.value);\r\n        }}\r\n      />\r\n      <Divider />\r\n      <div>{resultDivs}</div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Wikipedia;\r\n","import \"semantic-ui-css/semantic.min.css\";\r\n\r\nimport Wikipedia from \"./Wikipedia\";\r\nconst App = () => {\r\n  return <Wikipedia></Wikipedia>;\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./Components/App\";\r\n\r\nReactDOM.render(<App></App>, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}